.gutenberg {
	.caxton-layout-picker {
		border: 1px solid #aaa;
		padding: 16px;
		grid-column: 1/-1;
		.caxton-layout-preview {
			display: grid;
			grid-template-columns: repeat(12, 12px);
			grid-gap: 5px;
			padding: 4px;
			border: 3px solid #eee;
			background: #eee;
			margin: 0 16px 16px 0;
			float: left;
			grid-auto-rows: 25px;
			cursor: pointer;
			opacity: .88;
			&:hover {
				border-color: #aaa;
				opacity: 1;
			}
			.caxton-layout-preview-section {
				background: #999;
			}
		}
	}

	.caxton-columns {
		grid-template-columns: 100%;
		> .editor-inner-blocks > .editor-block-list__layout {
			display: grid;
			grid: inherit;
			> .editor-block-list__block {
				margin: 0;
			}
		}

		@for $i from 1 to 6 {
			&.caxton-#{$i}-columns > .editor-inner-blocks > .editor-block-list__layout {
				grid-template-columns: repeat($i, 1fr);
			}
		}
	}
}

[data-type="caxton/grid"] {
	.caxton-grid-block > .editor-inner-blocks {
		grid: inherit;
		grid-gap: inherit;
		grid-column: 1 / -1;
	}
	.editor-inner-blocks + .editor-inserter {
		position: absolute;
		bottom: 0;
		right: 0;
		svg {
			fill: #e74c3c;
		}
		button {
			border-radius: 50%;
		}
	}
	.editor-block-list__block:not(:last-child) .editor-inner-blocks + .editor-inserter {
		display: none;
	}

	.caxton-grid-block {
		.editor-block-list__layout {
			grid: inherit;
			grid-gap: inherit;
			grid-column: 1/-1;
			display: grid;
		}
		.editor-block-list__block {
			margin: 0;
		}
	}
}

[data-caxton-section] {
	justify-content: stretch;
	align-items: stretch;
	transition: all .7s;
	background: #f5f5f5;
	box-shadow: inset 0 0 7px 2px #eee;
	&.is-selected-parent,
	&.is-selected {
		background: #fff;
		box-shadow: inset 0 0 7px 2px #f5f5f5;
	}
	> .editor-block-list__block-edit {
		height: calc( 100% - 64px );
		> div {
			height: 100%;
			box-sizing: border-box;
			> div {
				height: 100%;
				box-sizing: border-box;
			}
		}
	}
}

.edit-post-visual-editor .editor-block-list__block[data-type='caxton/section'] .editor-block-list__block-edit {
	margin: 0 -43px 0;
	height: 100%;
}

@for $i from 1 to 13 {
	[data-caxton-section*="cols:#{$i}"] {grid-column: span $i;}
	[data-caxton-section*="rows:#{$i}"] {grid-row: span $i;}
}